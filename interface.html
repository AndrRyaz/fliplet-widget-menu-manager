<div class="widget-holder">

  <header class="header-wrapper">
    <div class="header-container">
      <p>Menu Options</p>
      <a href="https://help.fliplet.com/button-component/" class="help-icon" target="_blank">
        <i class="fa fa-question-circle-o"></i>
      </a>
    </div>
    <a href="#" class="closeSideView"><i class="fa fa-times-thin fa-lg fa-2x"></i></a>
  </header>

  <div class="widget-content">
    <ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active" id="menu-settings-control"><a href="#menu-settings" aria-controls="menu-settings" role="tab" data-toggle="tab">Menu styles</a></li>
      <li role="presentation" id="menu-manager-control"><a href="#menu-manager" aria-controls="menu-manager" role="tab" data-toggle="tab">Menu links</a></li>
    </ul>

    <div class="tab-content menus-list">
      <div role="tabpanel" class="tab-pane active" id="menu-settings">
        <div class="menu-styles-wrapper">
          <div class="instance-loading">
            <div class="spinner-holder animated">
              <div class="spinner-overlay"></div>
              <p>Loading...</p>
            </div>
          </div>
          <div class="custom-menus clearfix"></div>
        </div>
      </div>
      <div role="tabpanel" class="tab-pane" id="menu-manager">
        <div class="spinner-holder animated" id="menu-manager-loading">
          <div class="spinner-overlay"></div>
          <p>Loading...</p>
        </div>

        <div id="panel-holder" style="display: none">
          <form class="form-horizontal">

            <div class="form-group">
              <div class="col-sm-4 control-label">
                <label>Select menu</label>
              </div>
              <div class="col-sm-8">
                <label for="app-menu" class="select-proxy-display">
                  <select id="app-menu" class="hidden-select form-control">
                    <option value="">Hide menu</option>
                    <option value="pages" selected>All screens</option>
                  </select>
                  <span class="icon fa fa-chevron-down"></span>
                </label>
              </div>
            </div>

          </form>
          <div id="menu-links" style="display: none">
            <div class="panel-group ui-sortable" id="accordion">
              <div class="spinner-holder animated" id="menu-loading" style="display: none">
                <div class="spinner-overlay"></div>
                <p>Loading...</p>
              </div>
              <!-- LINKS -->
            </div>

            <div class="controls">
              <button class="btn btn-default start-item" id="add-link" style="display: none">Add menu link</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div role="alert" class="fade-transition alert alert-success" id="success-alert">
      The Menu has been updated
    </div>
  </div>
</div>

<template id="template-menuOption">
  <option value="\{{id}}">\{{name}}</option>
</template>

<template id="template-menu">
  <div class="menu" id="menu-\{{id}}"></div>
</template>

<script id="template-menuWidget" type="text/template">
  <div class="col-xs-6 menu-style-holder" data-widget-instance-id="\{{instanceId}}">
    <div class="menu-name">
      <p>\{{name}}</p>
    </div>
    <input type="radio" id="menu_id_\{{instanceId}}" data-menu-name="\{{name}}" class="menu-style-radios radio_\{{widgetId}}" \{{#if instanceId}}checked\{{/if}}>
    <div class="icon-holder">
      <div class="menu-icon">
        \{{#if gifIcon}}
        <div class="icon animated-icon" style="background-image:url('\{{gifIcon}}')"></div>
        \{{/if}}
        \{{#if icon}}
        <div class="icon" style="background-image:url('\{{icon}}')"></div>
        \{{/if}}
        <div class="menu-screen">
          <i class="fa fa-check"></i>
        </div>
      </div>
    </div>
    <p class="text-center select-style">
      <a href="#" class="btn btn-sm btn-secondary" data-widget-id="\{{widgetId}}">Change style</a>
    </p>
    \{{#if settings}}
    <div class="settings-holder">
      <a href="#" class="btn btn-sm btn-secondary" data-settings>Settings <i class="fa fa-cog" aria-hidden="true"></i></a>
    </div>
    \{{/if}}
  </div>
</script>

<template id="template-menuLink">
  <div class="panel panel-default" data-id="\{{id}}">
    <div class="panel-heading ui-sortable-handle">
      <h4 class="panel-title" data-toggle="collapse" data-parent="#accordion" data-target="#collapse-\{{id}}">
        <div class="screen-reorder-handle">
          <i class="fa fa-ellipsis-v"></i><i class="fa fa-ellipsis-v"></i>
        </div>
        <span class="fa fa-chevron-right"></span>
        <span class="panel-title-text">\{{data.linkLabel}}</span>
      </h4>
      <a href="#"><span class="icon-delete fa fa-trash"></span></a>
    </div>
    <div id="collapse-\{{id}}" class="panel-collapse collapse">
      <div class="panel-body">
        <div class="form-group clearfix">
          <div class="col-sm-4 control-label">
            <label>Link label</label>
          </div>
          <div class="col-sm-8">
            <input type="text" class="form-control link-label" value="\{{data.linkLabel}}"/>
          </div>
        </div>
        <div class="form-group clearfix">
          <div class="col-sm-4 control-label">
            <label>Icon</label>
          </div>
          <div class="col-sm-8 icon-selection-holder \{{#if data.icon}}icon-selected\{{/if}}">
            <div class="selected-icon-holder"><i class="selected-icon \{{data.icon}}"></i></div>
            <div class="button-controls-holder"><a href="#" data-select-icon>Replace icon</a> - <a href="#" class="text-danger remove-icon">Remove icon</a></div>
            <div class="btn btn-default select-icon" data-select-icon>Select an icon</div>
          </div>
        </div>
        <div class="link">
          <!-- Render Provider iFrame here -->
        </div>
      </div>
    </div>
  </div>
</template>
